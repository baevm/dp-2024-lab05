# Лабораторная работа №5. Реализация шаблонов "Команда" и "Цепочка обязанностей".

## Цели и задачи
- Практическое закрепление знаний полученных при изучении шаблонов "Команда" и "Цепочка обязанностей";
- Закрепление навыков по написанию unit-тестов, настройке Continious Integration (CI);
- Закрепление навыков по написанию Docker файлов;

## Описание задачи
В интернет-магазине есть система обработки заказов, которая включает несколько этапов, таких как проверка наличия товара, обработка платежа и доставка. На каждом этапе могут быть разные обработчики (например, проверка наличия может быть сделана менеджером склада, а обработка платежа — бухгалтером).

Мы будем использовать паттерн "Цепочка обязанностей" для обработки этапов заказа и паттерн "Команда" для выполнения конкретных операций, связанных с каждым этапом.


## Задание и порядок выполнения
1. Создайте интерфейс `IOrderHandler` для обработчиков цепочки;
2. Реализуйте следующие handler'ы:
   * `StockCheckHandler` - отвечает за проверку товара на складе;
   * `PaymentProcessorHandler` - отвечает за обработку платежа;
   * `DeliveryHandler` - отвечает за доставку товара;
   * `OrderHandler` - отвечает за первоначальную обработку заказа;
3. Реализуйте интерфейс `ICommand` для всех последующих команд;
4. Создайте команды, соответствующие обработчикам на этапе 2;
5. Если на каком-либо из этапов возникает ошибка, обработчик должен вызывать соответствующее исключение.
Например, если товар отсутствует, то должна вызываться ошибка `OutOfStockError`;
6. В качестве БД для товаров, их цен, потенциальных маршрутов можно использовать `HashMap` (словарь в Python);
7. Реализуйте Unit-тесты дя вашего решения;
8. Реализуйте CI-пайплайн с помощью GitHubActions;

## Пример
```python
# Склад
inventory = {
    'item1': 10,
    'item2': 0,  # Товар отсутствует
}

# Пример заказа
order = {
    'item': 'item1',
    'payment': 100,
    'address': 'UGATU'
}

# Создание цепочки обработчиков
stock_check_handler = StockCheckHandler()
payment_processor_handler = PaymentProcessorHandler()
delivery_handler = DeliveryHandler()
order_handler = OrderHandler()

order_handler.set_next(stock_check_handler).set_next(payment_processor_handler).set_next(delivery_handler)

try:
    command = ProcessOrderCommand(order_handler, order)
    command.execute()
except (OutOfStockError, PaymentProcessingError, DeliveryError) as e:
    print(f"Error processing order: {e}")

    # при этом цепочку можно продолжить в дальнейшем, когда ошибка будет устранена
    # например, когда у клиента будет достаточно средств или освободятся курьеры для доставки
```
